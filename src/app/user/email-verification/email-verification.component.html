<div class="page-auth">
    <div class="main-body-forgot-auth">
        <div class="card-reg card-white">
            <div class="card-content-user">
                <div class="logo-reg">
                    <fgl-logo [isWhiteLogo]="false" [height]="60"></fgl-logo>
                </div>

                <div *ngIf="!IsVerificationDone && !isResendTokenSuccess">
                    <div class="section-heading text-center">
                        Please enter the 8 character verification code sent to
                        <span>{{userEmail}}</span> to complete your registration and log into your account.
                    </div>

                    <form name="emailVerificationForm" class="mat-form-auth form-validation" [formGroup]="emailVerificationForm">
                        <fieldset>
                            <div class="form-group">
                                <mat-form-field class="full-width mat-icon-left">
                                    <!-- <mat-icon class="material-icons">lock_outline</mat-icon> -->
                                    <input fglsensitiveinput required matInput type="text" maxlength="8" name="code" autocomplete="off" placeholder="Code" formControlName="code">
                                </mat-form-field>
                            </div>
                            <div class="full-width section-heading-error text-center" *ngIf="isInvalidCode">
                                The verification code you entered is incorrect.
                            </div>
                        </fieldset>
                    </form>

                    <div class="margin-btm5">
                        <fgl-message [message]="errorMessage"></fgl-message>
                    </div>

                    <div class="col-md-12 margin-btm50 url-link no-padding">
                        <div class="pull-left col-md-6 cursorpointer">
                            <a (click)="resendEmailConfirmationToken()">Resend code</a>
                        </div>
                        <div class="pull-left col-md-6 text-md-right text-lg-right no-padding-right cursorpointer">
                            <a (click)="updateEmailAndResendCode()">Update email and resend code</a>
                        </div>
                    </div>
                    <div class="col-12 pull-right no-padding">
                        <div class="pull-left">
                            <button [routerLink]="[config.getConfig('appLoginUrl')]" mat-raised-button type="button" color="primary" class="pull-left btn-fgl-bgcolor">Cancel</button>
                        </div>
                        <div class="pull-right">
                            <button (click)="submit()" [disabled]="!emailVerificationForm.valid" color="primary" mat-raised-button type="button" class="pull-right btn-fgl-bgcolor margin-left15">Submit</button>
                        </div>
                    </div>
                </div>
                <div *ngIf="IsVerificationDone || isResendTokenSuccess" class="margin-btm30">
                    <div class="section-heading" *ngIf="IsVerificationDone">
                        Thank you for completing your registration. Please click on the login link below to login to your account.
                    </div>
                    <div class="section-heading" *ngIf="isResendTokenSuccess">
                        {{resendTokenSuccessMsg}}
                    </div>
                    <div class="pull-right col-12 no-padding">
                        <button [routerLink]="[config.getConfig('appLoginUrl')]" color="primary" mat-raised-button type="button" class="pull-right btn-fgl-bgcolor no-padding">Login</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>